<htlml>
<head>
  <base href='https://partiallyattended.com'>
  
  <link rel='canonical' href='https://partiallyattended.com/2013/11/19/osx-mavericks-vagrant-librarian/'>
  <link href='' rel='alternate' type='application/rss+xml' title='Partially Attended' />
  <link rel='stylesheet' href="https://partiallyattended.com/css/styles.css" > 

</head>
</body>
<h2><a href="https://partiallyattended.com">home</a> |
  <a href="https://partiallyattended.com/categories">tags</a> |
  
  
  <a href="http://mulvany.net">mulvany.net</a></h2>
<hr/>


This is what we see on a post page in /post/single.html

<h1 id="title">Setting up Vagrant, Librarian-Chef and Vagrant aws plugins on OSX Mavericks.</h1>

<section>
      <h4 id="date"> Tue Nov 19, 2013 </h4>
      <h5 id="wordcount"> 359 Words </h5>
</section>

<div class="post-entry-tags">
                          Posted In:
                           <a href="/categories/osx">OSX</a>, <a href="/categories/mavericks">Mavericks</a>, <a href="/categories/mac">mac</a>, <a href="/categories/development">development</a>, <a href="/categories/chef">chef</a>, <a href="/categories/ruby">ruby</a>, <a href="/categories/vagrant">vagrant</a>, <a href="/categories/aws">aws</a>, <a href="/categories/sys-ops">sys-ops</a>, <a href="/categories/tutorial">tutorial</a>, <a href="/categories/librarian">librarian</a>, <a href="/categories/rvm">rvm</a>
</div>

<div>
       <article id="content">
          <p>I have a new macbook pro. I want to install vagrant, chef and librarian, with the vagrant-aws plugins. I&rsquo;m working on OSX Mavericks, and I want to get as clean an install as possible. For the most part I am also using the fish shell. This is what I&rsquo;ve just run through over the last 20 minutes.</p>

<ul>
<li>Install command line tools from the terminal<br />
<code>$ xcode-select --install</code></li>
</ul>

<p>Next we are going to install homebrew, with homebrew we will install <code>rvm</code> and with <code>rvm</code> we will install ruby. The goal is to have a ruby avilable at <code>/usr/local/bin</code> and to avoid using the system provided ruby, which is at <code>/usr/bin</code>.</p>

<ul>
<li><p>install homebrew<br />
<code>$ ruby -e &quot;$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)&quot;</code></p></li>

<li><p>update homebrew<br />
<code>$ brew doctor</code>
<code>$ brew update</code></p></li>
</ul>

<p><code>$ brew doctor</code> will do a healthcheck. As a result of running this I was reminded to re-order my <code>$PATH</code> to point to <code>\usr\local\bin</code> over &lsquo;\usr\bin&rsquo;.</p>

<ul>
<li><p>Install prequisites for rvm<br />
<code>$ brew install autoconf automake libtool libyaml readline libksba openssl</code></p></li>

<li><p>Install <code>rvm</code><br />
<code>$ curl -L https://get.rvm.io | bash -s stable</code></p></li>

<li><p>Install a ruby<br />
<code>$ rvm install ruby-2.0.0-p247</code><br />
<code>$ which ruby</code> will now return something like <code>/Users/ian/.rvm/rubies/ruby-2.0.0-p247/bin/ruby</code></p></li>

<li><p>I use the <a href="http://fishshell.com">fish</a> shell, and for some reason after intalling ruby with rvm the order of my <code>$PATH</code> got rearranged, so I rest <code>\usr\local\bin</code> to the front with<br />
<code>$ set PATH /usr/local/bin $PATH</code></p></li>

<li><p>OK, now we can try to install librarian with
<code>$ gem install librarian-chef</code></p></li>

<li><p>This installs 31 gems on my system - fun! I immediatly tested this in a repo with a working <code>Cheffile</code>, for a long running project that is ongoing withing <a href="http://elife.elifesciences.org">eLife</a>.
<code>$ librarian-chef install</code></p></li>
</ul>

<p>This worked, and downloaded 21 <code>chef</code> repositories, as expected. I&rsquo;m feeling pretty good at this point.</p>

<ul>
<li><p>Let&rsquo;s also get vagrant. I downloaded the latest version of vagrant - <a href="http://downloads.vagrantup.com/tags/v1.3.5">version 1.3.5</a>, and installed it via dmg.
After this <code>$ which vagrant</code> returns <code>\usr\bin\vagrant</code>, and <code>$ vagrant -v</code> returns <code>Vagrant 1.3.5</code>.</p></li>

<li><p>Let&rsquo;s install the aws-plugin for vagrant. We do this with<br />
<code>$ vagrant plugin install vagrant-aws</code></p></li>
</ul>

<p>That gets me <code>Installed the plugin 'vagrant-aws (0.4.0)'!</code>, yay!!. We still need to install chef, and check that vagrant up works on the project.</p>

       </article>
 </div>

</body>
</html>

